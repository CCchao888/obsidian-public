

### 1. `peerDependencies` çš„è®¾è®¡åˆè¡·

- **æ™®é€šä¾èµ– (`dependencies`)**  
    ğŸ‘‰ ç›´æ¥è£…è¿›ä½ çš„é¡¹ç›®é‡Œï¼Œ`npm install` å°±ä¼šä¸‹è½½åˆ° `node_modules`ã€‚
    
- **åŒä¼´ä¾èµ– (`peerDependencies`)**  
    ğŸ‘‰ ä¸æ˜¯ç»™åº“è‡ªå·±ç”¨çš„ï¼Œè€Œæ˜¯è¦æ±‚ **ä½¿ç”¨è¿™ä¸ªåº“çš„é¡¹ç›®ï¼ˆå®¿ä¸»é¡¹ç›®ï¼‰** æå‰å®‰è£…å¥½æŒ‡å®šç‰ˆæœ¬çš„æŸä¸ªä¾èµ–ã€‚
    

ğŸ“Œ ä¾‹å­ï¼š  
å‡è®¾ä½ å†™äº†ä¸€ä¸ª `vue-plugin` æ’ä»¶ï¼Œé‡Œé¢ä»£ç ä¾èµ– `vue`ã€‚

- ä½ ä¸åº”è¯¥æŠŠ `vue` æ”¾åœ¨ `dependencies`ï¼Œå¦åˆ™åˆ«äººå®‰è£…ä½ æ’ä»¶æ—¶ï¼Œå¯èƒ½ä¼šè£…ä¸¤ä¸ª `vue`ï¼ˆä¸€ä¸ªä½ çš„ï¼Œä¸€ä¸ªä»–ä»¬è‡ªå·±çš„ï¼‰ã€‚
    
- æ­£ç¡®åšæ³•æ˜¯ï¼š
    
    ```json
    {
      "peerDependencies": {
        "vue": "^3.0.0"
      }
    }
    ```
    
    è¿™æ ·åˆ«äººç”¨ä½ çš„æ’ä»¶æ—¶ï¼Œå¿…é¡»åœ¨ä»–ä»¬çš„é¡¹ç›®é‡Œè‡ªå·±å®‰è£… `vue@^3.0.0`ã€‚
    

---

### 2. `npm install` çš„è¡Œä¸º

- é»˜è®¤ä¸ä¼šè‡ªåŠ¨å®‰è£… `peerDependencies`ï¼ˆnpm v3ï½v6 éƒ½æ˜¯è¿™æ ·çš„ï¼‰ã€‚
    
- ä» **npm v7 å¼€å§‹**ï¼Œä¼šå°è¯•è‡ªåŠ¨å®‰è£… `peerDependencies`ï¼Œä½†å¦‚æœç‰ˆæœ¬å†²çªï¼Œä»ç„¶éœ€è¦æ‰‹åŠ¨è§£å†³ã€‚
    

æ‰€ä»¥ä½ ç°åœ¨çœ‹åˆ° **`peer dependency ... missing` æˆ– `invalid` æŠ¥é”™**ï¼Œå°±æ˜¯å› ä¸ºï¼š

- ä½ çš„ä¾èµ– A å£°æ˜äº†ä¸€ä¸ª `peerDependencies`ï¼ˆæ¯”å¦‚ `react@^18`ï¼‰ï¼Œ
    
- ä½†ä½ çš„é¡¹ç›®é‡Œæ²¡è£…æˆ–è€…ç‰ˆæœ¬ä¸å¯¹ï¼Œ
    
- æ‰€ä»¥è¿è¡Œæ—¶æŠ¥é”™ã€‚
    

---

### 3. ä¸ºä»€ä¹ˆä½ è¦è‡ªå·±æ‰‹åŠ¨å®‰è£…

å› ä¸ºä½ çš„é¡¹ç›®æ˜¯ **ä½¿ç”¨æ–¹**ï¼š

- ä½ å¼•å…¥äº†æŸä¸ªä¸‰æ–¹åº“ï¼Œå®ƒé‡Œé¢æœ‰ `peerDependencies`ã€‚
    
- npm ä¸ä¼šé»˜è®¤å¸®ä½ è£…ï¼ˆé™¤éæ˜¯ npm7+ ä¸”æ²¡å†²çªï¼‰ã€‚
    
- æ‰€ä»¥ä½ è¦ **æ‰‹åŠ¨å®‰è£…**ï¼Œä¿è¯ç‰ˆæœ¬åŒ¹é…ã€‚
    

ğŸ“Œ ä¾‹å­ï¼š  
é¡¹ç›®é‡Œè£…äº† `antd`ï¼Œå®ƒ `peerDependencies` é‡Œè¦æ±‚ï¼š

```json
"peerDependencies": {
  "react": ">=16.9.0",
  "react-dom": ">=16.9.0"
}
```

å¦‚æœä½ æ²¡è£… `react`ï¼Œå°±ä¼šæŠ¥é”™ã€‚ä½ å°±å¾—ï¼š

```bash
npm install react react-dom
```

---

### 4. `package.json` å’Œ `peerDependencies` çš„å…³ç³»

- ä½ çš„é¡¹ç›® `package.json` é‡Œ **ä¸ä¼šè‡ªåŠ¨å‡ºç°åˆ«çš„åº“çš„ peerDependencies**ã€‚
    
- å¿…é¡»ä½ æ‰‹åŠ¨å†™è¿›å»ï¼ˆé€šè¿‡ `npm install` è£…å¥½åï¼‰ï¼Œæ‰èƒ½ä¿è¯ä½ çš„é¡¹ç›®ä¾èµ–å®Œæ•´ã€‚
    

---

âœ… æ€»ç»“ï¼š

- `dependencies`ï¼šæˆ‘è‡ªå·±ç”¨ï¼Œå®‰è£…æ—¶å°±å¸¦ä¸Šã€‚
    
- `peerDependencies`ï¼šä½¿ç”¨æˆ‘çš„äººè¦è£…ï¼Œæˆ‘åªå£°æ˜è¦æ±‚ã€‚
    
- `npm install`ï¼šä¸ä¼šå¸®ä½ è‡ªåŠ¨è£… `peerDependencies`ï¼ˆnpm7 é™¤å¤–ï¼Œä½†æœ‰å†²çªè¿˜æ˜¯è¦è‡ªå·±è£…ï¼‰ã€‚
    
- ä½ çš„é¡¹ç›®ä½œä¸ºâ€œä½¿ç”¨æ–¹â€ï¼Œè¦æ ¹æ®æŠ¥é”™æ‰‹åŠ¨å®‰è£… `peerDependencies`ã€‚
    

---

è¦ä¸è¦æˆ‘å¸®ä½ å†™ä¸€ä¸ª**æ’æŸ¥ `peerDependencies` ç¼ºå¤±çš„å®ç”¨å‘½ä»¤/æ­¥éª¤**ï¼Œè¿™æ ·ä½ å°±èƒ½ä¸€é”®æ£€æŸ¥å“ªäº›è¦æ‰‹åŠ¨è£…ï¼Ÿ