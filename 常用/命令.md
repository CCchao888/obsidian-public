# git
## 最佳实践
- git管理的项目`一定要写.gitignore文件`
- 到工位第一件事是 `git fetch origin` ，或者配置自动定期刷新
## 核心概念
`工作区` -- add -- `暂存区` -- commit -- `本地提交（版本库）`-- push -- `远程版本库`

- 工作区和暂存区是纯粹的本地概念，他们独立于任何分支
	- 工作区就是硬盘上的文件，即文件本身的样子
- 提交的东西/快照才会存储到版本库
- `分支`是指向提交快照的指针，分支存在于版本库。
	- `标签tag` 也是指向提交快照的指针/别名；是一个**静止**的指针，用于标记**标记重要的里程碑**，如版本。
	- `分支`是一个**可移动**的指针，代表一条**开发线**。
- `HEAD` 是当前工作目录所对应的「快照」的指针。它指向正在基于哪个提交进行工作。
	- `HEAD` 通常是一个「符号引用」**：在大多数情况下，`HEAD` 并不直接指向一个提交哈希，而是**指向一个分支（例如 `ref: refs/heads/main`）。
	- 分支再指向提交：这个分支（如 `main`）才真正指向最新的提交。所以，`HEAD` -> `main` -> `commit-id`。这意味着你“位于” `main` 分支上。
	- `分离头指针`状态（Detached HEAD）**：当直接检出一个提交哈希或标签（而不是分支名）时，`HEAD` 会**直接指向那个提交，而不是任何分支。在这种状态下，新提交将没有分支来“承载”，很容易丢失，所以通常只用于临时查看历史。
- `origin/dev`  VS  `origin dev`
	- origin/dev 即`远程跟踪分支`，是本地存在的、只读的远程分支引用/指针，指向远程仓库 `origin` 上 `dev` 分支**最后一次被拉取到本地时的状态**。
	- origin dev 是`git` 命令的参数，传递两个参数，分别指仓库和分支。一般这种命令行工具，空格出来的都是独立的参数。
- `.git` 隐藏文件夹是 Git 的“控制中心”。
	- 所有 Git 命令都需要读取这个目录来获取仓库信息（如提交历史、分支、配置等），并将新的更改（如新的提交）写入这个目录。
	-  每个拥有自己 `.git` 文件夹的目录都是一个**独立的 Git 仓库**。Git 命令在这个仓库中运行时都是独立隔离的。

## 常用命令

### 一、Git 基础操作

1. 初始化仓库

```
git init
```

**解释**：

- 在当前目录创建一个新的 Git 本地仓库，生成 `.git` 目录，存储所有的 Git 元数据和对象，开始对该目录下的项目进行版本控制。

  

 2. 克隆仓库

```
git clone <repository_url>
```

**解释**：

- 从远程仓库地址 `<repository_url>` 克隆一个仓库到本地，会自动创建一个与远程仓库同名的目录，并将远程仓库的所有文件和历史信息复制到本地。



 3. 查看状态

```
git status
```

**解释**：

- 查看当前工作目录和暂存区的状态，显示哪些文件被修改、哪些文件被添加到暂存区、哪些文件未被跟踪等信息，帮助你了解当前 Git 状态。

  

 4. 添加修改

```
git add <file>
git add.
```

**解释**：

- `git add <file>` 用于将指定文件 `<file>` 的修改添加到暂存区。
- `git add.` 会将当前目录下的所有修改添加到暂存区，包括新文件、修改的文件和删除的文件，准备提交。

  

 5. 提交修改

```
git commit -m "提交消息"
```

**解释**：

- 将暂存区的修改提交到本地仓库，创建一个新的提交，`-m` 选项用于添加提交消息，描述本次提交的内容。

  

 6. 查看提交历史

```
git log
git log --oneline
git log --graph
git log -n <number>
```

**解释**：

- `git log` 显示当前分支的详细提交历史，包括提交的 `SHA-1` 哈希值、作者、日期和提交消息。
- `git log --oneline` 以简洁的方式显示提交历史，只显示 `SHA-1` 的前 7 个字符和提交消息，适合快速查看。
- `git log --graph` 以图形化的方式显示提交历史，对于查看分支和合并历史非常有用。
- `git log -n <number>` 显示最近的 `<number>` 个提交。

### 二、分支操作

 1. 创建分支

```
git checkout -b <branch_name>
```

**解释**：

- 创建一个名为 `<branch_name>` 的新分支，并将 `HEAD` 指针切换到该分支，方便进行新功能开发或 bug 修复。

  

 2. 切换分支

```
git checkout <branch_name>
```

**解释**：

- 将 `HEAD` 指针切换到 `<branch_name>` 分支，你将在该分支上进行后续的操作，如提交、修改等。

  

 3. 查看分支

```
git branch
```

**解释**：

- 列出本地的所有分支，当前分支会以 `*` 标记，显示 `HEAD` 的位置。

  

 4. 合并分支

```
git merge <branch_name>
git merge --no-ff <branch_name>
```

**解释**：

- `git merge <branch_name>` 会将 `<branch_name>` 分支的修改合并到当前分支。
- `git merge --no-ff <branch_name>` 会创建一个合并提交，即使可以进行快速合并也会强制创建，保留合并的历史记录。

  

 5. 变基操作

```
git rebase <branch_name>
```

**解释**：

- 将当前分支的提交应用到 `<branch_name>` 分支的最新提交之后，使当前分支的提交看起来像是在 `<branch_name>` 分支的最新提交之后顺序开发的，会重写提交历史。

### 三、远程操作


 1. 添加远程仓库

```
# 查看当前已配置的远程仓库
git remote -v

git remote add origin <repository_url>
```

**解释**：

- 将远程仓库地址 `<repository_url>` 添加到本地仓库，并命名为 `origin`，方便后续的拉取和推送操作。

如果是fork开源项目，最好再添加远程上游项目

```
git remote add upstream <repository_url>
```

验证设置

```
git remote -v
# 输出应显示：
# origin  https://github.com/YOUR_USERNAME/project.git (fetch/push)
# upstream https://github.com/ORIGINAL_OWNER/project.git (fetch)

git fetch # 会同时拉取origin 和 upstream 的更新
```

 2. 拉取更新

```
git fetch origin
```

**解释**：

- 从远程仓库 `origin` 拉取最新的信息，更新本地存储的远程分支，包括 `origin/<branch>` 等远程跟踪分支，使本地存储的远程分支信息与远程仓库保持同步。

  

 3. 拉取并合并

```
git pull origin <branch_name>
```

**解释**：

- 相当于 `git fetch origin <branch_name>` 与 `git merge origin/<branch_name>` 的组合操作，从远程 `branch_name` 分支拉取更新并合并到当前分支。

  

 4. 推送更新

```
git push -u origin feature/add-run-params
// 新分支使用 -u 设置远程上游分支，后续push无需指定仓库和分支

git push origin <branch_name>
git push --force
git push --force-with-lease
```

**解释**：

- `git push origin <branch_name>` 将当前分支的更新推送到远程 `origin` 仓库的 `<branch_name>` 分支。
- `git push --force` 是强制推送，会覆盖远程分支的历史，在团队协作中要谨慎使用，可能会导致其他成员的工作丢失。
- `git push --force-with-lease` 是更安全的强制推送，会检查远程分支是否有新的提交，如果没有才会推送，避免意外覆盖他人的工作。

### 四、标签操作

 1. 创建标签

```
git tag <tag_name>
git tag -a <tag_name> -m "标签消息"
```

**解释**：

- `git tag <tag_name>` 创建一个轻量级标签，只是一个指向某个提交的指针。
- `git tag -a <tag_name> -m "标签消息"` 创建一个带注释的标签，包含创建者、日期和消息。

  

 2. 查看标签

```
git tag
```

**解释**：

- 列出所有的标签。

  

 3. 推送标签

```
git push origin <tag_name>
git push origin --tags
```

**解释**：

- `git push origin <tag_name>` 将指定标签推送到远程仓库。
- `git push origin --tags` 会将所有的本地标签推送到远程仓库。

### 五、暂存操作

 1. 存储修改

```
git stash save "描述信息"
```

**解释**：

- 将当前工作目录和暂存区的修改存储到一个本地存储区（stash），方便在不提交的情况下切换分支或处理其他工作，可添加描述信息。

  

 2. 查看存储列表

```
git stash list
```

**解释**：

- 列出所有存储的修改，以 `stash@{n}` 的形式表示，`n` 表示存储的顺序，方便查看存储的修改及其描述。

  

 3. 应用存储的修改

```
git stash apply
git stash apply stash@{n}
```

**解释**：

- `git stash apply` 会将最近存储的修改应用到当前工作目录和暂存区，但不会从存储列表中删除。
- `git stash apply stash@{n}` 可以将指定的存储修改（`stash@{n}`）应用到当前工作目录和暂存区。

  

 4. 恢复并删除存储的修改

```
git stash pop
git stash pop stash@{n}
```

**解释**：

- `git stash pop` 将最近存储的修改应用到当前工作目录和暂存区，并从存储列表中删除该修改。
- `git stash pop stash@{n}` 对指定的存储修改进行恢复并删除操作。

  

 5. 删除存储的修改

```
git stash drop
git stash drop stash@{n}
git stash clear
```

**解释**：

- `git stash drop` 删除最近存储的修改。
- `git stash drop stash@{n}` 删除指定的存储修改。
- `git stash clear` 清空整个存储列表。

### 六、其他操作

 1. 查看操作记录

```
git reflog
```

**解释**：

- 记录了本地仓库中 `HEAD` 和分支引用的更新操作，包括提交、重置、合并、变基、切换分支等操作的历史，可用于恢复误操作和查找丢失的提交。

  

 2. 重置操作

```
git reset [--soft | --mixed | --hard] <commit>
```

**解释**：

- `git reset --soft <commit>` 只移动 `HEAD` 指针到 `<commit>`，暂存区和工作目录中的修改不受影响。
- `git reset --mixed <commit>`（默认）将 `HEAD` 指针和暂存区更新为 `<commit>` 的状态，工作目录不受影响。
- `git reset --hard <commit>` 会将 `HEAD` 指针、暂存区和工作目录都更新为 `<commit>` 的状态，会丢弃未提交的修改。

  

 3. 挑选提交

```
git cherry-pick <commit1> <commit2>...
```

**解释**：

- 从一个分支复制一个或多个特定的提交（`<commit1>`、`<commit2>` 等），并将其应用到当前分支，适合将某些特定修改引入当前分支而不合并整个分支。

 4、修改commit信息
- **修改最后一次提交 (Latest Commit):**
    
	`git commit --amend
    
    执行后会自动打开编辑器（如 Vim），让你修改提交信息。保存退出即可。
    
- **修改历史提交 (Older Commits):**  
    这需要使用交互式变基（interactive rebase），**非常小心**，如果提交已推送，force push 会有风险。
    
    `修改最近3次提交中的某一次
    `git rebase -i HEAD~3`
    
    在打开的编辑器中，找到你想修改的那行提交，将开头的 `pick` 改为 `reword`（或 `r`），保存退出。  
    然后 Git 会再次打开编辑器让你修改该次提交的信息，修改后保存即可。

# linux

---

## 🔹 1. 查看类命令（查）

```bash
pwd                 # 显示当前所在目录（绝对路径）
ls                  # 列目录内容
ls -l               # 详细列表（权限、用户、大小、时间）
ls -a               # 包含隐藏文件（.开头）
ls -lh              # 以人类可读的单位显示大小
ls -R               # 递归列出子目录
stat 文件名         # 查看文件详细属性（inode、时间戳、权限）
file 文件名         # 判断文件类型（文本/二进制/目录/符号链接等）
tree 目录           # 以树状结构显示目录（需安装 `tree`）
```

---

## 🔹 2. 文件 / 目录操作（增、删、改）

**创建**

```bash
touch file.txt            # 创建空文件 / 更新文件时间戳
mkdir dir1                # 创建目录
mkdir -p dir1/dir2/dir3   # 递归创建目录
cp file1 file2            # 复制文件
cp file1 dir/             # 复制文件到目录
cp -r dir1 dir2           # 递归复制目录
```

**修改 / 移动 / 重命名**

```bash
mv oldname newname        # 文件或目录重命名
mv file dir/              # 移动文件到目录
```

**删除**

⚠️ 删除不可逆，注意！

```bash
rm file.txt               # 删除文件
rm -i file.txt            # 删除前确认（安全）
rm -r dir/                # 删除目录及内容
rm -rf dir/               # 强制删除目录（危险！）
rmdir 空目录              # 删除空目录
```

---

##🔹 3. 文件内容操作

```bash
cat file                  # 显示整个文件内容
tac file                  # 倒序显示
less file                 # 分页查看（可上下翻页，q 退出）
more file                 # 分页查看（较老）
head -n 10 file           # 查看前 10 行
tail -n 20 file           # 查看最后 20 行
tail -f file              # 实时查看文件追加（常用于日志）
nano file                 # 编辑文件（简单编辑器）
vi file                   # vi/vim 编辑器（强大）
```

---

##🔹 4. 查找 / 搜索

```bash
find /path -name "*.txt"          # 按文件名查找
find . -type f -size +10M         # 查找大于 10M 的文件
locate file.txt                   # 从数据库快速查找（需 `updatedb`）
grep "关键词" file                # 在文件中搜索关键词
grep -r "关键词" dir/             # 递归搜索目录
grep -n "关键词" file             # 显示匹配所在行号
```

---

##🔹 5. 权限与用户

```bash
ls -l file              # 查看权限
chmod 644 file          # 修改权限（rw-r--r--）
chmod +x script.sh      # 添加可执行权限
chown user:group file   # 修改所有者
id                      # 查看当前用户 UID/GID
whoami                  # 当前用户名
```

---

##🔹 6. 压缩与解压

```bash
tar -cvf archive.tar dir/         # 打包目录为 tar
tar -xvf archive.tar              # 解包
tar -czvf archive.tar.gz dir/     # 压缩为 tar.gz
tar -xzvf archive.tar.gz          # 解压 tar.gz
zip -r archive.zip dir/           # 压缩为 zip
unzip archive.zip                 # 解压 zip
```

---

##🔹 7. 磁盘与目录大小

```bash
df -h                  # 查看磁盘使用情况
du -sh dir/            # 查看目录大小
du -sh *               # 查看当前目录下每个子目录大小
```

---

##🔹 8. 软硬链接

```bash
ln file1 file2         # 创建硬链接（file2 与 file1 指向同一 inode）
ln -s file target      # 创建符号链接（相当于快捷方式）
```

---

##🔹 9. 常见实用命令组合

```bash
cp file{,.bak}         # 快速备份文件 file → file.bak
ls -lhS                # 按大小排序显示文件
ls -lt                 # 按修改时间排序显示
find . -name "*.log" -delete   # 删除当前目录下所有 .log 文件
grep -r "ERROR" /var/log       # 在日志目录递归搜索 "ERROR"
```

---

##🔹 10. 快捷技巧

- `!!` 重复上一条命令
    
- `!ls` 重复最后一条以 `ls` 开头的命令
    
- `Ctrl + r` 搜索历史命令
    
- `Tab` 自动补全文件名和路径
    
- `cd -` 返回上一个目录
    
- `pushd dir` 和 `popd` 在多个目录间切换
    


# vim
Vim 是一个在终端里运行的、非常强大的文本编辑器。它的核心特点是**模态编辑**，这意味着在不同的“模式”下，键盘上同一个按键的功能完全不同。

## 核心三种模式
Vim 主要有三种模式，掌握它们的切换是生存的关键：

| 模式名       | 作用               | 如何进入                                  | 屏幕底部提示（如果有）    | 常用操作                           |
| --------- | ---------------- | ------------------------------------- | -------------- | ------------------------------ |
| **正常模式**  | **浏览、移动光标、执行命令** | 刚打开 Vim 时默认的模式，或从其他模式按 `ESC`          | `-- NORMAL --` | 移动光标、删除、复制、粘贴                  |
| **插入模式**  | **正常的打字、输入文本**   | 在正常模式下按 `i` (insert) 或 `a` (append) 等 | `-- INSERT --` | 就像用记事本一样输入文字                   |
| **命令行模式** | **执行保存、退出等高级命令** | 在正常模式下按 `:`                           | 在底部出现 `:` 提示符  | `:wq` (保存并退出), `:q!` (不保存强制退出) |

**模式切换心法：**

- **想打字？** 确保你在 **插入模式** （看底部是否有 `-- INSERT --`）。
    
- **打完了字想执行命令（如保存）？** 按 `ESC` 键回到 **正常模式**。
    
- **想保存或退出？** 在正常模式下按 `:` 进入 **命令行模式**，然后输入命令。


## 必备命令
### 1. 退出 Vim

场景：你打开了 Vim，可能是不小心打开的，或者写完了提交信息，现在想关闭它。

1. 首先，**按 `ESC` 键**。这确保你处于**正常模式**。（多按几次也没关系）
    
2. 然后，**按 `:`**。这时光标会跳到屏幕底部，出现一个冒号 `:`。
    
3. 在冒号后输入以下命令之一，然后按 `Enter` 执行：
    
    - **`:q`** -> **q**uit -> **退出**。**(如果文件没有修改，可以用这个)**
        
    - **`:q!`** -> **q**uit **!** -> **强制退出，不保存任何修改**。这是你的“救命稻草”，当你不想做任何更改只想退出时就用它。
        
    - **`:wq`** -> **w**rite + **q**uit -> **保存并退出**。这是写完提交信息后最常用的命令。
        
    - **`:x`** -> 和 `:wq` 效果一样，**保存并退出**。
        

**记住这个流程：`ESC` -> `:` -> `q!` 或 `wq` -> `Enter`**

### 2. 移动光标（在正常模式下）

在写 git 提交信息时，可能需要移动修改。

- **方向键**：通常可以直接用键盘的 `↑`, `↓`, `←`, `→` 键。这是最简单的方法。
    
- **`h`, `j`, `k`, `l`** (推荐习惯这个，因为所有键盘都支持):
    
    - `h` -> 左
        
    - `j` -> 下
        
    - `k` -> 上
        
    - `l` -> 右
- **按单词移动**：
    
    - `w` -> 移动到下一个**单词的开头**
        
    - `b` -> 移动到当前/上一个**单词的开头**
        
    - `e` -> 移动到当前/下一个**单词的末尾**
        
- **行内移动**：
    
    - `0` (数字零) -> 跳到**当前行的行首**
        
    - `$` -> 跳到**当前行的行尾**
        
    - `^` -> 跳到当前行**第一个非空白字符**
        
- **全文移动**：
    
    - `gg` -> 跳到**文件第一行**
        
    - `G` -> 跳到**文件最后一行**
        
    - `:[行号]` -> 跳转到指定行号（例如 `:5` 回车跳到第5行）。在交互式变基时非常有用！
        

### 3. 编辑/输入文本

- **进入插入模式开始打字**：
    
    - `i` -> **i**nsert -> 在**当前光标处**插入
        
    - `a` -> **a**ppend -> 在**当前光标后**插入
        
    - `o` -> 在当前行的**下方****新开一行**并进入插入模式 (在写多行提交信息时很好用)
        
- **删除文本** (在正常模式下)：
    
    - `x` -> 删除光标下的一个字符
        
    - `dd` -> 删除整行
- -**撤销与重做**（非常重要！）：
    
    - `u` -> **undo**，撤销上一次操作
        
    - `Ctrl + r` -> **redo**，重做被撤销的操作
        
- **复制（ Yank ）与粘贴（ Paste ）**：
    
    - `yy` -> **yank**，复制当前整行
        
    - `p` -> **paste**，在光标**下方**粘贴
        
    - `P` (大写) -> 在光标**上方**粘贴
        
- **更精准的删除**：
    
    - `dw` -> **d**elete **w**ord，删除从光标处开始到一个单词的结尾
        
    - `dd` -> 删除当前行（你已经知道了）
        
    - `d$` 或 `D` -> 删除从光标处到行尾的所有内容
        
- **进入插入模式的更多方式**：
    
    - `A` -> 直接跳到当前行的**行尾**并进入插入模式（非常常用！）
        
    - `I` -> 直接跳到当前行的**行首**并进入插入模式
        
    - `O` (大写) -> 在当前行的**上方**新开一行并进入插入模式
### 4、搜索（在正常模式下）

在解决冲突或查看代码时非常有用。

- `/` -> 进入搜索模式。输入 `/` 后接着输入你要找的词（如 `/function`），按回车。
    
- `n` -> 跳转到下一个匹配结果
    
- `N` -> 跳转到上一个匹配结果

**退出搜索状态（即取消高亮）的方法如下：**

1. **执行任何操作**：最简单的方法就是直接按 `Esc` 键（确保你回到正常模式），然后随便按 `j` 或 `k` 移动一下光标，搜索高亮通常就会消失。但最“正确”的方法是下面的命令。
    
2. **使用命令（推荐）**：在正常模式下，输入：
    
    - `:noh` -> **no** **h**ighlight 的缩写。这是最标准、最常用的命令，用于**清除搜索高亮**，但保留搜索记录。你下次按 `n` 或 `N` 还能继续跳转。
        
    - `:noh<Enter>` 执行后，令人分心的黄色高亮就消失了，但你的搜索关键词还在，可以继续用 `n` 和 `N`。
        

**总结：在正常模式下，输入 `:noh` 然后回车，即可“退出”搜索高亮状态。**
### 5、可视化模式（Visual Mode）

这是一种“先选择，后操作”的模式，非常直观。

- `v` -> 进入**字符可视化模式**，然后用移动命令（`hjkl`, `w`, `$` 等）选择文本，选好后：
    
    - 按 `d` 删除选中内容
        
    - 按 `y` 复制选中内容
        
- `V` (大写) -> 进入**行可视化模式**，直接按行选择。
    
- `Ctrl + v` -> 进入**块可视化模式**，可以进行矩形区块选择（高级功能，在修改特定列的数据时有用）。
    

**操作流程**：`v` -> 移动光标选择文本 -> 执行命令 (`d`, `y`, `:w` 等)

# Docker

## 1. 镜像（Image）相关命令

镜像是容器的“模板”，类似于系统的 ISO 文件。

查看本地镜像

```bash
docker images
```

- `docker` → Docker 主命令
    
- `images` → 子命令，用于查看本地所有已下载的镜像
    

---

拉取镜像

```bash
docker pull 镜像名:标签
```

- `pull` → 从远程仓库（默认是 Docker Hub）拉取镜像到本地
    
- `镜像名` → 比如 `mysql`、`nginx`
    
- `:标签` → 镜像版本号，例如 `mysql:8.0`（不写默认为 `latest`）
    

---

搜索镜像

```bash
docker search 镜像名
```

- `search` → 在 Docker Hub 上搜索可用镜像
    
- `镜像名` → 关键字，例如 `mysql`
    

---

删除镜像

```bash
docker rmi 镜像ID
```

- `rmi` → remove image，删除本地镜像
    
- `镜像ID` → 可以用 `docker images` 查看
    

强制删除：

```bash
docker rmi -f 镜像ID
```

- `-f` → force，强制删除（即使有容器依赖）
    

---

## 2. 容器（Container）相关命令

容器是基于镜像运行的实例。

创建并运行容器

```bash
docker run -d --name 容器名 -p 宿主机端口:容器端口 -v 宿主机目录：容器目录 镜像名:标签
```

- `run` → 创建并运行容器
    
- `-d` → 后台运行（detached mode）
    
- `--name` → 指定容器名称，方便管理
    
- `-p` → 端口映射，格式是 `宿主机端口:容器内部端口

- `-v`  -> 目录挂载，格式是 `宿主机目录:容器内部目录
    
- `镜像名:标签` → 指定镜像和版本
    

示例：

```bash
docker run -d --name mynginx -p 8080:80 nginx:latest
```

👉 启动一个 nginx 容器，把宿主机的 8080 映射到容器的 80 端口。

---

查看运行中的容器

```bash
docker ps
```

- `ps` → 查看运行中的容器列表（类似 Linux 的 `ps`）
    

查看所有容器（包括停止的）：

```bash
docker ps -a
```

- `-a` → all，显示所有容器（运行+退出）
    

---

停止容器

```bash
docker stop 容器ID或容器名
```

- `stop` → 让容器优雅停止
    

---

启动已停止的容器

```bash
docker start 容器ID或容器名
```

- `start` → 重新启动容器
    

---

重启容器

```bash
docker restart 容器ID或容器名
```

- `restart` → 先停止再启动容器
    

---

删除容器

```bash
docker rm 容器ID
```

- `rm` → remove，删除容器（只能删除已停止的）
    

强制删除（包括正在运行的容器）：

```bash
docker rm -f 容器ID
```

- `-f` → 强制删除
    

---

## 3. 容器内部操作

进入容器

```bash
docker exec -it 容器名 bash
```

- `exec` → 在运行中的容器内执行命令
    
- `-i` → interactive，交互模式
    
- `-t` → 分配伪终端
    
- `bash` → 启动 bash 终端
    

---

查看容器日志

```bash
docker logs -f 容器名
```

- `logs` → 查看容器日志
    
- `-f` → 持续输出日志（follow）
    

---

查看容器详细信息

```bash
docker inspect 容器名
```

- `inspect` → 查看容器/镜像的详细配置信息（JSON 格式）
    

---

拷贝文件

```bash
docker cp 宿主机路径 容器名:容器路径
docker cp 容器名:容器路径 宿主机路径
```

- `cp` → copy，宿主机与容器之间拷贝文件
    

---

## 4. 数据持久化与挂载

挂载目录

```bash
docker run -d --name 容器名 -v 宿主机目录:容器目录 镜像名
```

- `-v` → volume（数据卷挂载），把宿主机的目录映射到容器内部
    

示例：

```bash
docker run -d --name mysql -e MYSQL_ROOT_PASSWORD=123456 -v /data/mysql:/var/lib/mysql mysql:8.0
```

👉 把宿主机的 `/data/mysql` 挂载到容器的 `/var/lib/mysql`，实现数据持久化。

---

## 5. 网络与端口

查看网络

```bash
docker network ls
```

- `network ls` → 查看 Docker 的网络列表
    

---

创建网络

```bash
docker network create 网络名
```

- `create` → 新建一个自定义网络（一般用于容器互联）
    

---

运行容器并指定网络

```bash
docker run -d --name 容器名 --network 网络名 镜像名
```

---

## 6. 镜像与仓库操作

登录 Docker Hub

```bash
docker login
```

- 输入账号和密码即可
    

---

推送镜像

```bash
docker push 用户名/镜像名:标签
```

- `push` → 上传镜像到远程仓库（必须先 `docker login`）
    

---

给镜像打标签

```bash
docker tag 镜像ID 用户名/镜像名:标签
```

- `tag` → 给镜像打一个新标签（推送时必须带用户名）
    

---

## 7. 系统清理命令

删除所有未使用的容器、镜像、网络

```bash
docker system prune -a
```

- `system prune` → 清理垃圾
    
- `-a` → 删除所有未使用的镜像和容器
    

---

## 🔑 总结逻辑顺序

1. **镜像管理** → `pull`、`images`、`rmi`
    
2. **容器管理** → `run`、`ps`、`start`、`stop`、`rm`
    
3. **容器操作** → `exec`、`logs`、`inspect`、`cp`
    
4. **数据持久化** → `-v` 挂载目录
    
5. **网络管理** → `network`
    
6. **仓库操作** → `login`、`push`、`tag`
    
7. **系统清理** → `system prune`
    

# MySQL
- MySQL **关键字对大小写不敏感**，大小写均可。
- MySQL 命令推荐以分号结尾
	- **MySQL 命令行客户端中必须使用分号**结束语句
	- **SQL 脚本文件中应该使用分号**以确保可移植性
	- **编程接口中通常不需要分号**，但取决于具体库的实现
- 执行命令前先切换数据库设置默认数据库 use database;
	- 否则执行命令需要显式指定数据库，如 SELECT * FROM ==mydatabase.users==;

## 常用命令

```
# 登录进入
mysql -u root -p

# 退出
exit  或者  quit

# 进入MySQL后，增删改查
show database;

# 建议显式指定字符集和校对规则
CREATE DATABASE my_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

use mydb;

show tables;

# 执行sql脚本
source my_db.sql;

# 删除
drop database mydb;

drop table users;
```

## 数据库操作命令

1. 查看所有数据库

```sql
SHOW DATABASES;
```

- `SHOW`：显示信息。
    
- `DATABASES`：数据库列表。
    

默认会看到几个系统库：

- `information_schema`：元数据，存储数据库结构信息。
    
- `mysql`：用户、权限等管理信息。
    
- `performance_schema`：性能监控信息。
    
- `sys`：简化版性能视图。
    

---

2. 创建数据库

```sql
CREATE DATABASE mydb;
```

- `CREATE DATABASE`：创建数据库。
    
- `mydb`：数据库名称。
    

---
 3. 使用数据库

```sql
USE mydb;
```

- `USE`：切换到指定数据库。
    
- 执行后，所有的 SQL 操作都会在 `mydb` 下进行。
    

---

 4. 删除数据库

```sql
DROP DATABASE mydb;
```

- `DROP`：删除。
    
- 小心！删除后数据不可恢复。
    

---

## 表操作命令

1. 查看当前数据库的所有表

```sql
SHOW TABLES;
```

2. 创建表

```sql
CREATE TABLE users (
  id INT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(50) NOT NULL,
  email VARCHAR(100) UNIQUE,
  age INT
);
```

解释：

- `id INT PRIMARY KEY AUTO_INCREMENT`
    
    - `id` 列，整数类型，主键，自动递增。
        
- `name VARCHAR(50) NOT NULL`
    
    - `name` 列，字符串类型，最大 50 个字符，不能为空。
        
- `email VARCHAR(100) UNIQUE`
    
    - `email` 列，字符串，唯一值。
        
- `age INT`
    
    - `age` 列，整数。
        

---

3. 查看表结构

```sql
DESC users;
```

- `DESC`（或 `DESCRIBE`）：查看表的结构（字段、类型、是否可空、键、默认值等）。
    

---

 4. 删除表

```sql
DROP TABLE users;
```

---

## 数据操作命令（CRUD）

CRUD = **Create（增） Read（查） Update（改） Delete（删）**

1. 插入数据

```sql
INSERT INTO users (name, email, age)
VALUES ('Alice', 'alice@example.com', 25);
```

- `INSERT INTO users`：向 `users` 表插入数据。
    
- `(name, email, age)`：指定要插入的列。
    
- `VALUES (...)`：对应的值。
    

---

2. 查询数据

```sql
SELECT * FROM users;
```

- `SELECT`：查询。
    
- `*`：表示所有列。
    
- `FROM users`：从 `users` 表查询。
    

👉 结果会显示所有行。

带条件查询：

```sql
SELECT name, email FROM users WHERE age > 20;
```

- 只查 `name` 和 `email` 列。
    
- `WHERE age > 20`：条件过滤。
    

---

3. 更新数据

```sql
UPDATE users
SET age = 30
WHERE name = 'Alice';
```

- `UPDATE users`：更新 `users` 表的数据。
    
- `SET age = 30`：把 `age` 修改为 30。
    
- `WHERE name = 'Alice'`：限定只修改 `Alice` 的那条记录。
    

---
4. 删除数据

```sql
DELETE FROM users WHERE name = 'Alice';
```

- `DELETE FROM users`：删除 `users` 表中的数据。
    
- `WHERE name = 'Alice'`：条件，避免删除所有数据。
    

👉 ⚠️ 如果没有 `WHERE`，会删除表里所有数据。

---

## 用户与权限管理（基础）

1. 创建用户

```sql
CREATE USER 'testuser'@'%' IDENTIFIED BY 'password123';
```

- `'testuser'@'%'`：用户名是 `testuser`，`%` 表示可以从任何主机登录。
    
- `IDENTIFIED BY 'password123'`：设置密码。
    

---

2. 授权

```sql
GRANT ALL PRIVILEGES ON mydb.* TO 'testuser'@'%';
```

- `GRANT`：授予权限。
    
- `ALL PRIVILEGES`：所有权限。
    
- `ON mydb.*`：作用在 `mydb` 数据库下的所有表。
    
- `TO 'testuser'@'%'`：授予给指定用户。
    

---

3. 刷新权限

```sql
FLUSH PRIVILEGES;
```

---

4. 删除用户

```sql
DROP USER 'testuser'@'%';
```


