



## 1. **JAX-RS (@QueryParam) çš„è¡Œä¸º**

```java
@GET
@Path("/users")
public List<User> listUsers(@QueryParam("name") String name) {
    ...
}
```

- å‰ç«¯è¯·æ±‚ï¼š`/users?name=Tom` â†’ `name="Tom"`
    
- å‰ç«¯è¯·æ±‚ï¼š`/users`ï¼ˆæ²¡ä¼  `name`ï¼‰ â†’ `name=null`
    

ğŸ‘‰ **JAX-RS é»˜è®¤å…è®¸å‚æ•°ç¼ºçœ**ï¼Œå‚æ•°æ²¡ä¼ å°±å˜æˆ `null`ã€‚æ‰€ä»¥ä½ çš„æ—§ä»£ç èƒ½è·‘ã€‚

---

## 2. **Spring MVC (@RequestParam) çš„è¡Œä¸º**

```java
@GetMapping("/users")
public List<User> listUsers(@RequestParam("name") String name) {
    ...
}
```

- é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring MVC è®¤ä¸º `@RequestParam` æ˜¯ **å¿…é¡»çš„**ã€‚  
    å¦‚æœæ²¡ä¼ ï¼Œç›´æ¥æŠ¥é”™ï¼š
    
    ```
    Required request parameter 'name' for method parameter type String is not present
    ```
    
- è¦è®©å®ƒå¯é€‰ï¼Œéœ€è¦åŠ ï¼š
    
    ```java
    @RequestParam(value = "name", required = false)
    ```
    
    è¿™æ ·å¦‚æœå‰ç«¯æ²¡ä¼ å‚ï¼Œ`name=null`ï¼Œå°±å’ŒåŸæ¥çš„ JAX-RS è¡Œä¸ºä¸€è‡´äº†ã€‚
    

---

## 3. **å‚æ•°æ²¡æœ‰åŠ æ³¨è§£çš„æƒ…å†µ**

### JAX-RS

```java
public List<User> listUsers(UserQuery query);
```

å¦‚æœå‚æ•°æ˜¯ä¸ªå¯¹è±¡ï¼ˆPOJOï¼‰ï¼ŒJAX-RS é»˜è®¤ä¼šå°è¯•ä»ï¼š

- Query å‚æ•° (`?name=Tom&age=18`)
    
- æˆ–è¯·æ±‚ä½“ï¼ˆPOST/PUT JSONï¼‰  
    å»å¡«å……å­—æ®µã€‚æ²¡ä¼ çš„å­—æ®µ = `null`ã€‚
    

### Spring MVC

```java
public List<User> listUsers(UserQuery query);
```

é»˜è®¤ç­‰ä»·äº `@ModelAttribute UserQuery query`ï¼Œä¹Ÿä¼šæŠŠ query string é‡Œçš„å‚æ•°è‡ªåŠ¨ç»‘å®šåˆ°å¯¹è±¡å±æ€§ä¸Šï¼š

- `?name=Tom&age=18` â†’ `query.name="Tom", query.age=18`
    
- æ²¡ä¼ çš„å­—æ®µ = `null`
    

ğŸ‘‰ æ‰€ä»¥è¿™ç§åœºæ™¯ï¼Œä½ ä¸ç”¨åŠ  `@RequestParam`ï¼Œç›´æ¥ä¿ç•™å¯¹è±¡å‚æ•°å°±è¡Œã€‚

---

## 4. **@RequestBody çš„åŒºåˆ«**

- `@RequestBody` ç»‘å®šçš„æ˜¯è¯·æ±‚ä½“ï¼ˆJSON / XMLï¼‰ã€‚
    
- å¦‚æœç”¨ `@RequestBody`ï¼Œå‰ç«¯å¿…é¡»ä¼  JSONï¼Œå¦åˆ™æŠ¥é”™ 400ã€‚
    
- è€Œä½ åŸæ¥ JAX-RS é‡Œæ²¡æœ‰ `@RequestBody`ï¼Œé‚£è¯´æ˜å‚æ•°æ˜¯ query/form ä¼ çš„ï¼Œä¸è¦å¼ºè¡ŒåŠ  `@RequestBody`ã€‚
    

---

## 5. **Feign Client çš„è¡Œä¸º**

Feign è°ƒç”¨æ—¶ï¼Œæ¥å£æ³¨è§£è¦å’ŒæœåŠ¡ç«¯ä¿æŒä¸€è‡´ï¼š

- **query å‚æ•°**ï¼š
    
    ```java
    @GetMapping("/users")
    List<User> listUsers(@RequestParam(value="name", required=false) String name);
    ```
    
    â†’ Feign ä¼šæ‹¼ URLï¼š`/users?name=Tom`
    
- **è¯·æ±‚ä½“**ï¼š
    
    ```java
    @PostMapping("/users")
    User createUser(@RequestBody User user);
    ```
    
    â†’ Feign ä¼šæŠŠ `user` åºåˆ—åŒ–ä¸º JSON æ”¾åœ¨ body é‡Œã€‚
    

âš ï¸ å¦‚æœä½ é”™ç”¨äº† `@RequestBody`ï¼Œå‰ç«¯å’Œ Feign è°ƒç”¨æ–¹éƒ½è¦ä¼  JSONï¼Œå¦åˆ™å¿…ç„¶æŠ¥é”™ã€‚

---

## âœ… å»ºè®®æ”¹é€ è§„åˆ™

ç»“åˆä½ é‡åˆ°çš„é—®é¢˜ï¼Œæˆ‘å»ºè®®è¿™æ ·æ”¹ï¼š

1. **åŸæ¥æ˜¯ @QueryParam â†’ æ”¹æˆ @RequestParam(required=false)**  
    ä¿æŒã€Œå‚æ•°å¯é€‰ï¼Œæ²¡ä¼ å°±æ˜¯ nullã€ã€‚
    
2. **åŸæ¥æ²¡æœ‰æ³¨è§£çš„å¯¹è±¡å‚æ•° â†’ ç›´æ¥ä¿ç•™å¯¹è±¡ï¼Œä¸è¦åŠ  @RequestBody**  
    è¿™æ · query å‚æ•°èƒ½è‡ªåŠ¨ç»‘å®šï¼Œæ²¡ä¼ å­—æ®µ = nullã€‚
    
3. **åªæœ‰æ˜ç¡®èµ° JSON è¯·æ±‚ä½“çš„æ¥å£ â†’ æ‰ç”¨ @RequestBody**  
    å¦åˆ™ä¸è¦ä¹±åŠ ã€‚
    

---

## ä¾‹å­å¯¹æ¯”

### JAX-RS

```java
@GET
@Path("/users")
public List<User> listUsers(@QueryParam("name") String name,
                            @QueryParam("age") Integer age);
```

### Spring MVC

```java
@GetMapping("/users")
public List<User> listUsers(
        @RequestParam(value="name", required=false) String name,
        @RequestParam(value="age", required=false) Integer age) {
    ...
}
```

---

ğŸ‘‰ æ€»ç»“ï¼š

- æŠ¥é”™çš„åŸå› æ˜¯ï¼š`@RequestParam` é»˜è®¤ required=trueã€‚
    
- è§£å†³æ–¹æ¡ˆï¼šæ”¹æˆ `required=false`ï¼Œæˆ–è€…æŠŠå‚æ•°å°è£…æˆå¯¹è±¡ã€‚
    
- Feign è¦å’ŒæœåŠ¡ç«¯ä¿æŒæ³¨è§£ä¸€è‡´ï¼Œä¸è¦éšä¾¿ç”¨ `@RequestBody`ã€‚
    


