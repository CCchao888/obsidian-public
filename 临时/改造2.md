现在用 **CXF (JAX-RS)** 的项目，其实**实现类本身同时承担了 Controller 和 Service 的角色**，因为它是直接暴露为 HTTP 接口的。

所以从 **CXF → Spring MVC**，核心变化主要是**注解和分层规范**：

---

## 1. 注解需要改

- **类上的 `@Path` 换成 `@RestController` + `@RequestMapping`**
    
- **方法上的 `@GET @POST @Path` 换成 `@GetMapping @PostMapping @RequestMapping`**
    
- **参数绑定方式从 `@QueryParam @PathParam @FormParam` 换成 `@RequestParam @PathVariable @RequestBody` 等 Spring MVC 注解**
    

---

## 2. 实现类的代码是否要改？

取决于团队要求：

### 方案 A: **保持“一体化写法”**

- 实现类改成 `@RestController`，方法注解换成 Spring MVC 风格
    
- 名字不改，结构不拆
    
- 这样最省事，迁移最简单（**适合短期改造**）
    

```java
@RestController
@RequestMapping("/product")
public class ProductService {
    @GetMapping("/{id}")
    public Product getProduct(@PathVariable String id) { ... }
}
```

### 方案 B: **重构为标准分层（推荐，长远）**

- 把当前的实现类拆成：
    
    - `Controller` 层：只负责接收请求、返回结果
        
    - `Service` 层：业务逻辑
        
- 好处：更规范，更清晰
    

```java
// Controller
@RestController
@RequestMapping("/product")
public class ProductController {
    @Autowired
    private ProductService productService;

    @GetMapping("/{id}")
    public Product getProduct(@PathVariable String id) {
        return productService.getProduct(id);
    }
}

// Service
@Service
public class ProductService {
    public Product getProduct(String id) { ... }
}
```

> **现有代码是“Controller+Service合一”，迁移到 Spring MVC 至少要加上 @RestController。**

---

## 3. 类名是否必须改？

- **不强制改类名**  
    如果不重构分层，类名可以保持不变
    
- 如果要拆分成两层，建议命名：
    
    - 接口类：`ProductApi`
        
    - Controller 实现类：`ProductController`
        
    - 业务类：`ProductService`
        

---

## 4. FeignClient 的改造

FeignClient 依赖的接口也要改成 Spring MVC 风格的注解（否则调用路径对不上）。

---

## 结论

**短期目标（预研改造）：**

- 主要是注解改造
    
- 可以不改类名、不拆分层次
    
- 让接口能跑通即可
    

**长期目标：**

- Controller 和 Service 解耦
    
- 注解、参数绑定方式全面替换成 Spring MVC 规范
    

---

整理一份**“预研改造方案文档”模板**，包含：

- 改造背景
    
- 现状问题
    
- 改造方案
    
- 改造步骤（短期 / 长期）
    
- 风险点与测试方法
    
